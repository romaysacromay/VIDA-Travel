// VIDA Travel Internationalization (i18n)
// Default language: Spanish (es-MX)

const translations = {
  'es-MX': {
    // Header & Navigation
    'nav.howItWorks': 'Cómo Funciona',
    'nav.simulator': 'Simulador',
    'nav.chat': 'Chat',
    'lang.es': 'Español',
    'lang.en': 'English',
    
    // Hero Section
    'hero.headline': '0% de Interés Garantizado en tu Crédito de Viaje',
    'hero.subtitle': 'Comienza a ahorrar para tu próxima aventura con el programa de crédito de vacaciones de VIDA',
    'hero.cta': 'Comenzar',
    
    // Zero Interest Badge
    'zeroInterest.badge': 'Financiamiento Sin Intereses Disponible',
    'zeroInterest.guarantee': '0% de Interés Garantizado',
    
    // Simulator Section
    'simulator.title': 'Simulador de Crédito de Vacaciones',
    'simulator.destination': 'Destino',
    'simulator.destinationPlaceholder': 'Selecciona un destino',
    'simulator.checkIn': 'Fecha de entrada',
    'simulator.checkOut': 'Fecha de salida',
    'simulator.adults': 'Adultos',
    'simulator.children': 'Niños',
    'simulator.monthlySalary': 'Salario Mensual (MXN)',
    'simulator.weeklyDeposit': 'Depósito Semanal Deseado (MXN)',
    'simulator.calculate': 'Calcular Crédito de Vacaciones',
    'simulator.submitting': 'Calculando...',
    
    // Results Section
    'results.title': 'Tu Plan de Crédito de Vacaciones',
    'results.totalPrice': 'Precio Total del Paquete',
    'results.savingsTarget': 'Meta de Ahorro (80%)',
    'results.weeksToSave': 'Semanas para ahorrar 80%',
    'results.guaranteedDate': 'Fecha de salida garantizada',
    'results.loanAmount': 'Monto del préstamo (hasta 20%)',
    'results.loanTerm': 'Plazo del préstamo',
    'results.monthlyPayment': 'Tu pago mensual será',
    'results.monthlyPaymentOf': 'de tu salario de',
    'results.totalToPay': 'Total a pagar',
    'results.zeroInterest': '(0% de interés)',
    'results.datesGuaranteed': 'Tus fechas seleccionadas son viables',
    'results.datesNotGuaranteed': 'Tus fechas seleccionadas no son viables. Fecha garantizada:',
    'results.suggestIncreaseDeposit': 'Sugerencia: Aumenta tu depósito semanal o elige un destino más económico',
    
    // Chat Section
    'chat.title': 'Chatea con Nuestro Asistente de Viajes',
    'chat.placeholder': 'Pregúntame sobre planificación de vacaciones...',
    'chat.send': 'Enviar',
    'chat.welcome': '¡Hola! Estoy aquí para ayudarte a planear tus vacaciones con el programa 0% interés de VIDA',
    'chat.widget.button': 'Chatea con nosotros',
    
    // Enrollment Section
    'enrollment.title': '¿Listo para Comenzar tu Fondo de Vacaciones?',
    'enrollment.cta': 'Pagar mi cuota de inscripción',
    
    // Validation Messages
    'validation.required': 'Este campo es requerido',
    'validation.salaryMin': 'El salario debe ser mayor a 0',
    'validation.depositMin': 'El depósito debe ser mayor a 0',
    'validation.depositTooHigh': 'El depósito semanal es demasiado alto para tu salario',
    'validation.adultsMax': 'Máximo 2 adultos',
    'validation.datesRequired': 'Selecciona fechas de entrada y salida',
    'validation.checkOutAfterCheckIn': 'La fecha de salida debe ser después de la fecha de entrada',
    
    // Footer
    'footer.copyright': '© 2024 VIDA Travel. Todos los derechos reservados.',
    
    // Destinations
    'destination.cancun': 'Cancún',
    'destination.puerto-vallarta': 'Puerto Vallarta',
    'destination.los-cabos': 'Los Cabos',
    'destination.ciudad-de-mexico': 'Ciudad de México',
    'destination.oaxaca': 'Oaxaca',
    'destination.chiapas': 'Chiapas',
    
    // Months
    'month.1': 'Enero',
    'month.2': 'Febrero',
    'month.3': 'Marzo',
    'month.4': 'Abril',
    'month.5': 'Mayo',
    'month.6': 'Junio',
    'month.7': 'Julio',
    'month.8': 'Agosto',
    'month.9': 'Septiembre',
    'month.10': 'Octubre',
    'month.11': 'Noviembre',
    'month.12': 'Diciembre'
  },
  'en-US': {
    // Header & Navigation
    'nav.howItWorks': 'How It Works',
    'nav.simulator': 'Simulator',
    'nav.chat': 'Chat',
    'lang.es': 'Español',
    'lang.en': 'English',
    
    // Hero Section
    'hero.headline': '0% Interest Guaranteed on Travel Credit',
    'hero.subtitle': 'Start saving for your next adventure with VIDA\'s vacation credit program',
    'hero.cta': 'Get Started',
    
    // Zero Interest Badge
    'zeroInterest.badge': 'Interest-Free Financing Available',
    'zeroInterest.guarantee': '0% Interest Guaranteed',
    
    // Simulator Section
    'simulator.title': 'Vacation Credit Simulator',
    'simulator.destination': 'Destination',
    'simulator.destinationPlaceholder': 'Select a destination',
    'simulator.checkIn': 'Check-in',
    'simulator.checkOut': 'Check-out',
    'simulator.adults': 'Adults',
    'simulator.children': 'Children',
    'simulator.monthlySalary': 'Monthly Salary (MXN)',
    'simulator.weeklyDeposit': 'Desired Weekly Deposit (MXN)',
    'simulator.calculate': 'Calculate Vacation Credit',
    'simulator.submitting': 'Calculating...',
    
    // Results Section
    'results.title': 'Your Vacation Credit Plan',
    'results.totalPrice': 'Total Package Price',
    'results.savingsTarget': 'Savings Target (80%)',
    'results.weeksToSave': 'Weeks to save 80%',
    'results.guaranteedDate': 'Guaranteed departure date',
    'results.loanAmount': 'Loan amount (up to 20%)',
    'results.loanTerm': 'Loan term',
    'results.monthlyPayment': 'Your payment will be',
    'results.monthlyPaymentOf': 'of your salary of',
    'results.totalToPay': 'Total to pay',
    'results.zeroInterest': '(0% interest)',
    'results.datesGuaranteed': 'Your selected dates are viable',
    'results.datesNotGuaranteed': 'Your selected dates are not viable. Guaranteed date:',
    'results.suggestIncreaseDeposit': 'Suggestion: Increase your weekly deposit or choose a cheaper destination',
    
    // Chat Section
    'chat.title': 'Chat with Our Travel Assistant',
    'chat.placeholder': 'Ask me anything about vacation planning...',
    'chat.send': 'Send',
    'chat.welcome': 'Hi! I\'m here to help you plan your dream vacation with VIDA\'s 0% interest program!',
    'chat.widget.button': 'Chat with us',
    
    // Enrollment Section
    'enrollment.title': 'Ready to Start Your Vacation Fund?',
    'enrollment.cta': 'Pay my enrolment fee',
    
    // Validation Messages
    'validation.required': 'This field is required',
    'validation.salaryMin': 'Salary must be greater than 0',
    'validation.depositMin': 'Deposit must be greater than 0',
    'validation.depositTooHigh': 'Weekly deposit is too high for your salary',
    'validation.adultsMax': 'Maximum 2 adults',
    'validation.datesRequired': 'Select check-in and check-out dates',
    'validation.checkOutAfterCheckIn': 'Check-out date must be after check-in date',
    
    // Footer
    'footer.copyright': '© 2024 VIDA Travel. All rights reserved.',
    
    // Destinations
    'destination.cancun': 'Cancun',
    'destination.puerto-vallarta': 'Puerto Vallarta',
    'destination.los-cabos': 'Los Cabos',
    'destination.ciudad-de-mexico': 'Mexico City',
    'destination.oaxaca': 'Oaxaca',
    'destination.chiapas': 'Chiapas',
    
    // Months
    'month.1': 'January',
    'month.2': 'February',
    'month.3': 'March',
    'month.4': 'April',
    'month.5': 'May',
    'month.6': 'June',
    'month.7': 'July',
    'month.8': 'August',
    'month.9': 'September',
    'month.10': 'October',
    'month.11': 'November',
    'month.12': 'December'
  }
};

// i18n Manager
class I18n {
  constructor() {
    // Default to Spanish
    this.currentLang = localStorage.getItem('vida_language') || 'es-MX';
    this.init();
  }
  
  init() {
    // Apply translations on load
    this.applyTranslations();
  }
  
  setLanguage(lang) {
    if (translations[lang]) {
      this.currentLang = lang;
      localStorage.setItem('vida_language', lang);
      this.applyTranslations();
      
      // Dispatch language change event
      window.dispatchEvent(new CustomEvent('languageChanged', { detail: { lang } }));
      
      // Track in analytics
      if (window.trackEvent) {
        trackEvent('language_changed', { 
          from: localStorage.getItem('vida_previous_lang') || 'es-MX',
          to: lang 
        });
        localStorage.setItem('vida_previous_lang', lang);
      }
    }
  }
  
  getLanguage() {
    return this.currentLang;
  }
  
  t(key, params = {}) {
    const translation = translations[this.currentLang]?.[key] || key;
    
    // Simple parameter replacement
    if (Object.keys(params).length > 0) {
      return translation.replace(/\{(\w+)\}/g, (match, paramKey) => {
        return params[paramKey] !== undefined ? params[paramKey] : match;
      });
    }
    
    return translation;
  }
  
  applyTranslations() {
    // Find all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
      const key = element.getAttribute('data-i18n');
      const translation = this.t(key);
      
      if (element.tagName === 'INPUT' && element.type !== 'submit' && element.type !== 'button') {
        element.placeholder = translation;
      } else if (element.tagName === 'INPUT' && (element.type === 'submit' || element.type === 'button')) {
        element.value = translation;
      } else {
        element.textContent = translation;
      }
    });
    
    // Update title attributes
    document.querySelectorAll('[data-i18n-title]').forEach(element => {
      const key = element.getAttribute('data-i18n-title');
      element.title = this.t(key);
    });
  }
}

// Create global instance
window.i18n = new I18n();

// Export for module use
if (typeof module !== 'undefined' && module.exports) {
  module.exports = I18n;
}

